@prefix csvw-safe: <https://w3id.org/csvw-safe#> .
@prefix csvw:      <http://www.w3.org/ns/csvw#> .
@prefix rdf:       <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs:      <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl:       <http://www.w3.org/2002/07/owl#> .
@prefix xsd:       <http://www.w3.org/2001/XMLSchema#> .
@prefix dcterms:   <http://purl.org/dc/terms/> .


# =====================================================
# Ontology
# =====================================================

csvw-safe:
    a owl:Ontology ;
    dct:title "CSVW Differential Privacy Extension Vocabulary" ;
    owl:versionInfo "0.3.0" ;
    owl:versionIRI <https://w3id.org/csvw-dp/0.3.0> ;
    dct:description """
    A vocabulary extending W3C CSV on the Web metadata for expressing
    safe structural and differential privacy modeling assumptions.
    """ ;
    dct:creator <https://github.com/dscc-admin-ch> ;
    dct:publisher <https://github.com/dscc-admin-ch> ;
    dct:created "2026-02-04"^^xsd:date ;
    dct:license <https://creativecommons.org/licenses/by/4.0/> ;
    owl:imports <http://www.w3.org/ns/csvw> ;
    rdfs:seeAlso <https://github.com/dscc-admin-ch/csvw-dp> .


#################################################################
# Core Classes
#################################################################

csvw-safe:GroupingKey a owl:Class ;
    rdfs:label "Grouping Key" ;
    rdfs:comment "Defines a grouping space over one or more columns." .

csvw-safe:Partition a owl:Class ;
    rdfs:label "Partition" ;
    rdfs:comment "Public region of a grouping domain (output coordinate)." .

csvw-safe:Predicate a owl:Class ;
    rdfs:label "Predicate" ;
    rdfs:comment "Logical condition defining membership in a partition." .

csvw-safe:Contribution a owl:Class ;
    rdfs:label "Contribution Bound" ;
    rdfs:comment "Contribution bounds attached to a specific privacy unit." .

csvw-safe:Dependency a owl:Class ;
    rdfs:label "Column Dependency" ;
    rdfs:comment "Public constraint relating two columns." .

#################################################################
# Privacy model
#################################################################

csvw-safe:privacyModel a owl:DatatypeProperty ;
    rdfs:domain csvw:Table ;
    rdfs:range xsd:string ;
    rdfs:comment "independent | hierarchical | joint" .

csvw-safe:public.privacyUnit a owl:ObjectProperty ;
    rdfs:domain csvw:Table ;
    rdfs:range csvw:Column ;
    rdfs:comment "Column identifying protected entity." .

#################################################################
# Public properties
#################################################################

csvw-safe:public.length a owl:DatatypeProperty ;
    rdfs:range xsd:integer ;
    rdfs:comment "Exact row count invariant across neighboring datasets." .

csvw-safe:public.partitions a owl:ObjectProperty ;
    rdfs:range csvw-safe:Partition ;
    rdfs:comment "Declared admissible partitions." .

csvw-safe:public.exhaustivePartitions a owl:DatatypeProperty ;
    rdfs:range xsd:boolean .

#################################################################
# Bounds (DP sensitivity)
#################################################################

csvw-safe:bounds.maxContributions a owl:DatatypeProperty ;
    rdfs:range xsd:integer ;
    rdfs:comment "lâˆž: rows per partition per privacy unit." .

csvw-safe:bounds.maxGroupsPerUnit a owl:DatatypeProperty ;
    rdfs:range xsd:integer ;
    rdfs:comment "l0: partitions affected per privacy unit." .

csvw-safe:bounds.maxLength a owl:DatatypeProperty ;
    rdfs:range xsd:integer ;
    rdfs:comment "Maximum possible number of rows." .

csvw-safe:bounds.maxNumPartitions a owl:DatatypeProperty ;
    rdfs:range xsd:integer ;
    rdfs:comment "Maximum non-empty output partitions." .

#################################################################
# Partition predicates
#################################################################

csvw-safe:predicate a owl:ObjectProperty ;
    rdfs:domain csvw-safe:Partition ;
    rdfs:range csvw-safe:Predicate .

csvw-safe:partitionValue a owl:DatatypeProperty ;
    rdfs:domain csvw-safe:Predicate .

csvw-safe:lowerBound a owl:DatatypeProperty ;
    rdfs:domain csvw-safe:Predicate ;
    rdfs:range xsd:decimal .

csvw-safe:upperBound a owl:DatatypeProperty ;
    rdfs:domain csvw-safe:Predicate ;
    rdfs:range xsd:decimal .

csvw-safe:components a owl:ObjectProperty ;
    rdfs:domain csvw-safe:Predicate ;
    rdfs:range csvw-safe:Predicate .


#################################################################
# Grouping keys
#################################################################

csvw-safe:columns a owl:ObjectProperty ;
    rdfs:domain csvw-safe:GroupingKey ;
    rdfs:range csvw:Column .


#################################################################
# Contribution objects (multi privacy unit support)
#################################################################

csvw-safe:contribution a owl:ObjectProperty ;
    rdfs:range csvw-safe:Contribution .

csvw-safe:contribution.privacyUnit a owl:ObjectProperty ;
    rdfs:domain csvw-safe:Contribution ;
    rdfs:range csvw:Column .

csvw-safe:contribution.maxContributions a owl:DatatypeProperty ;
    rdfs:domain csvw-safe:Contribution ;
    rdfs:range xsd:integer .

csvw-safe:contribution.maxGroupsPerUnit a owl:DatatypeProperty ;
    rdfs:domain csvw-safe:Contribution ;
    rdfs:range xsd:integer .

#################################################################
# Partition predicates
#################################################################

csvw-safe:synth.nullableProportion a owl:DatatypeProperty ;
    rdfs:domain csvw:Column ;
    rdfs:range xsd:decimal .

csvw-safe:synth.dependency a owl:ObjectProperty ;
    rdfs:domain csvw:Column ;
    rdfs:range csvw-safe:Dependency .

csvw-safe:synth.dependencyType a owl:DatatypeProperty ;
    rdfs:domain csvw-safe:Dependency ;
    rdfs:range xsd:string .


